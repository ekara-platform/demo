---
name: ekara_demo
qualifier: full

ekara:
  parent:
    repository: ekara-platform/distribution
    ref: master

templates:
  - "docker-compose.yml"

vars:
  toto: >
    agent
      -server
      -bootstrap
      -ui
      -client 0.0.0.0
      -bind '{{ "{{ GetInterfaceIP \"eth0\" }}" }}'

nodes:
  '*':
    provider:
      name: ek-azure
  cache:
    instances: 3
    labels:
      role_cache: true
  web:
    instances: 2
    labels:
      role_web: true

stacks:
  visualizer:
    component: ek-swarm-visualizer
  app:
    component: _
